<div class="container">
  <h2>Relatórios de Centro de Custo</h2>

  <mat-form-field class="full-width">
    <mat-label>Tipo de Relatório</mat-label>
    <mat-select [(ngModel)]="tipoSelecionado" (selectionChange)="carregarRelatorio()">
      <mat-option *ngFor="let tipo of tiposRelatorio" [value]="tipo">{{ tipo }}</mat-option>
    </mat-select>
  </mat-form-field>

  <table mat-table [dataSource]="relatorioDados" class="mat-elevation-z8" *ngIf="relatorioDados.length > 0">
    <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
      <th mat-header-cell *matHeaderCellDef>{{ displayedColumnTitles[column] }}</th>
      <td mat-cell *matCellDef="let element" >
        <ng-container *ngIf="column === 'totalMovimentado'; else defaultColumn">
          {{ element[column] | currency:'BRL':'symbol':'1.2-2' }}
        </ng-container>
        <ng-template #defaultColumn>
          {{ element[column] }}
        </ng-template>
      </td>
      <!--
      <td mat-footer-cell *matFooterCellDef [hidden]="column !== 'totalMovimentado'" class="text-right">
        <strong>{{ getTotalMovimentado() | currency:'BRL':'symbol':'1.2-2' }}</strong>
      </td>-->
    </ng-container>
    
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
   <!--<tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>--> 
  </table>
  

  <button mat-button color="primary" (click)="gerarPDF()" *ngIf="relatorioDados.length > 0">
    Exportar PDF
  </button>
</div>
